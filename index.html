<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hồ Chí Minh - Người đi tìm hình của đất nước</title>
    <!-- Tải Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tải Google Fonts cho giao diện -->
    <link href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Merriweather:wght@400;700&family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
    <!-- Tải Font Awesome cho icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Tải Tone.js cho hiệu ứng âm thanh (BGM Kahoot-style) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>

    <style>
        /* Định nghĩa fonts theo yêu cầu */
        .font-header-footer { font-family: 'Paytone One', sans-serif; }
        .font-normal { font-family: 'Merriweather', serif; }
        .font-quiz { font-family: 'Montserrat', sans-serif; }

        /* ========================================================= */
        /* HIỆU ỨNG NỀN ĐỘNG (DYNAMIC BACKGROUND) */
        /* ========================================================= */
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        body {
            /* Các màu chuyển: Xanh Dương Sẫm, Tím Hồng, Vàng Cam, Xanh Lam Nhạt */
            background: linear-gradient(-45deg, #4F46E5, #EC4899, #F59E0B, #60A5FA);
            background-size: 400% 400%; 
            animation: gradient-animation 20s ease infinite; 
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            overflow-x: hidden;
        }

        /* Thẻ trò chơi chính */
        .quiz-card {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(3px); 
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2); 
            animation: fadeIn 0.5s ease-out;
            z-index: 10; 
        }

        /* Wrapper chính */
        #main-wrapper {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
            padding: 1rem 0; 
        }

        .text-glow {
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.8), 0 0 10px rgba(0, 0, 0, 0.5);
        }

        /* Hiệu ứng Bong Bóng */
        .bubbles {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; 
        }

        .bubbles span {
            position: absolute; background: rgba(255, 255, 255, 0.4); border-radius: 50%; animation: moveUp 25s linear infinite;
        }

        @keyframes moveUp {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-100px) scale(1); opacity: 0; }
        }
        
        .bubbles span:nth-child(1) { left: 10%; width: 20px; height: 20px; animation-duration: 10s; animation-delay: 0s; }
        .bubbles span:nth-child(2) { left: 20%; width: 40px; height: 40px; animation-duration: 15s; animation-delay: 2s; }
        .bubbles span:nth-child(3) { left: 35%; width: 15px; height: 15px; animation-duration: 12s; animation-delay: 4s; }
        .bubbles span:nth-child(4) { left: 50%; width: 30px; height: 30px; animation-duration: 18s; animation-delay: 6s; }
        .bubbles span:nth-child(5) { left: 65%; width: 25px; height: 25px; animation-duration: 14s; animation-delay: 8s; }
        .bubbles span:nth-child(6) { left: 80%; width: 50px; height: 50px; animation-duration: 20s; animation-delay: 10s; }
        .bubbles span:nth-child(7) { left: 90%; width: 10px; height: 10px; animation-duration: 11s; animation-delay: 12s; }
        .bubbles span:nth-child(8) { left: 5%; width: 45px; height: 45px; animation-duration: 17s; animation-delay: 14s; }
        .bubbles span:nth-child(9) { left: 75%; width: 35px; height: 35px; animation-duration: 13s; animation-delay: 16s; }
        .bubbles span:nth-child(10) { left: 45%; width: 22px; height: 22px; animation-duration: 19s; animation-delay: 18s; }
        .bubbles span:nth-child(11) { left: 25%; width: 18px; height: 18px; animation-duration: 16s; animation-delay: 1s; }
        .bubbles span:nth-child(12) { left: 55%; width: 33px; height: 33px; animation-duration: 10s; animation-delay: 7s; }

        /* Thanh đếm ngược thời gian (ProgressBar) */
        #timer-bar-container {
            height: 10px; background-color: #e5e7eb; border-radius: 9999px; margin-bottom: 20px; overflow: hidden; box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        #timer-bar {
            width: 100%; height: 100%; background-color: #ef4444; transition: width linear; 
        }

        /* Animation cho các nút trả lời (giống Kahoot) */
        .answer-button {
            transition: transform 0.1s ease-out, box-shadow 0.1s ease-out, background-color 0.1s ease-out;
        }
        .answer-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        /* Nút màu sắc sặc sỡ */
        .color-1 { background-color: #ef4444; } /* Red */
        .color-2 { background-color: #3b82f6; } /* Blue */
        .color-3 { background-color: #10b981; } /* Green */
        .color-4 { background-color: #f59e0b; } /* Yellow */

        /* Modal/Notification */
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.7); backdrop-filter: blur(5px); animation: modalFadeIn 0.3s ease-out; display: flex; align-items: center; justify-content: center; z-index: 50;
        }
        .modal-content-wrapper {
            max-height: 90vh; overflow-y: auto;
        }
        .modal-content {
            animation: zoomIn 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        /* Keyframes */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes modalFadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Confetti canvas style (optional override) */
        .confetti-canvas { }
    </style>
    <!-- Firebase removed (leaderboard disabled) -->
    <script>
        // Firebase and leaderboard functionality intentionally removed.
        // Score persistence / leaderboard has been removed per request.
    </script>
</head>

<body class="p-4 md:p-8">
    <!-- Lớp nền động - Bong bóng -->
    <div class="bubbles">
        <span></span><span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span><span></span>
    </div>

    <!-- Tiêu đề -->
    <header class="w-full text-center py-4 text-white font-header-footer text-2xl md:text-3xl tracking-wider mb-6 z-20 text-glow">
        <h1>HỒ CHÍ MINH - NGƯỜI ĐI TÌM HÌNH CỦA ĐẤT NƯỚC</h1>
    </header>
    
    <!-- Wrapper chính cho nội dung có thể cuộn -->
    <div id="main-wrapper" class="flex-grow">
        <main id="app-container" class="w-full max-w-4xl quiz-card rounded-xl p-6 md:p-10 shadow-2xl"></main>
    </div>


    <!-- Footer -->
    <footer class="w-full text-center py-4 mt-6 text-white font-header-footer text-xs md:text-sm z-20">
        <!-- Footer trống -->
    </footer>

    <!-- Modal cho thông báo và kết quả -->
    <div id="modal-container" class="fixed inset-0 modal-overlay hidden">
        <div class="modal-content-wrapper p-4 w-full flex justify-center items-start">
            <div id="modal-content" class="modal-content bg-white p-6 md:p-10 rounded-xl shadow-2xl max-w-lg w-full m-4 font-normal text-center">
                <h3 id="modal-title" class="text-2xl font-bold mb-4 font-header-footer text-gray-800"></h3>
                <p id="modal-message" class="text-base mb-6 text-gray-700 font-normal"></p>
                <p id="modal-score" class="text-xl font-bold mb-6 text-green-600 hidden font-header-footer"></p>
                <div id="modal-explanation" class="text-sm italic text-gray-600 mt-4 p-3 bg-gray-100 rounded-lg hidden text-left font-normal"></div>
                <button id="modal-button" class="mt-4 px-6 py-3 rounded-full text-white font-bold transition duration-300 bg-blue-600 hover:bg-blue-700 shadow-lg font-header-footer"></button>
            </div>
        </div>
    </div>

    <script>
        // =================================================================
        // KHỞI TẠO BIẾN TOÀN CỤC & HẰNG SỐ
        // =================================================================

        const GAME_STATE = {
            NAME_INPUT: 'nameInput',
            INSTRUCTIONS: 'instructions',
            QUIZ: 'quiz',
            FEEDBACK: 'feedback',
            RESULTS: 'results',
        };

        const MAX_TIME_PER_QUESTION = 40; 
        const MAX_POINTS_PER_QUESTION = 1000;
        const appContainer = document.getElementById('app-container');
        const modalContainer = document.getElementById('modal-container');
        const modalTitle = document.getElementById('modal-title');
        const modalMessage = document.getElementById('modal-message');
        const modalScore = document.getElementById('modal-score');
        const modalExplanation = document.getElementById('modal-explanation');
        const modalButton = document.getElementById('modal-button');

        let gameState = GAME_STATE.NAME_INPUT;
        let playerName = '';
        let totalScore = 0;
        let questionSet = [];
        let currentQuestionIndex = 0;
        let timerInterval = null;
        let startTime = 0;
        let isAnswered = false;

        // =================================================================
        // DỮ LIỆU CÂU HỎI (ĐÃ TĂNG VÀ BỔ SUNG THÊM 8 CÂU THEO YÊU CẦU)
        // =================================================================
        // Hiện tại có 20 câu tổng cộng sau khi bổ sung.
        const QUIZ_DATA_RAW = [
            { id: 1, q: "Tư tưởng Hồ Chí Minh là sự kết tinh của yếu tố nào sau đây?", a: ["Văn hóa Việt Nam", "Văn hóa phương Đông và phương Tây", "Chủ nghĩa Mác – Lênin", "Tất cả các yếu tố trên"], correctIndex: 3, info: "Tư tưởng Hồ Chí Minh kết hợp văn hóa dân tộc, tinh hoa Đông – Tây, tư tưởng cách mạng Pháp – Mỹ và chủ nghĩa Mác – Lênin, cùng với phẩm chất cá nhân của Người." },
            { id: 2, q: "Theo Bác, ưu điểm của học thuyết Khổng Tử là gì?", a: ["Lòng nhân ái", "Tu dưỡng đạo đức cá nhân", "Tự do cá nhân", "Phép biện chứng"], correctIndex: 1, info: "Bác nêu rõ: “Học thuyết Khổng Tử có ưu điểm là sự tu dưỡng đạo đức cá nhân.”" },
            { id: 3, q: "Điểm Người đánh giá cao nhất ở chủ nghĩa Mác là:", a: ["Chính sách dân sinh", "Phương pháp làm việc biện chứng", "Tinh thần bác ái", "Lòng yêu nước"], correctIndex: 1, info: "Theo lời Bác: “Chủ nghĩa Mác có ưu điểm là phương pháp làm việc biện chứng.”" },
            { id: 4, q: "Hồ Chí Minh khẳng định mục tiêu lớn nhất của mọi học thuyết tiến bộ là:", a: ["Xây dựng thể chế mới", "Giải phóng con người, mưu hạnh phúc cho mọi người", "Nâng cao kinh tế", "Phát triển khoa học"], correctIndex: 1, info: "Bác nhận xét rằng các học thuyết lớn đều “đều nhằm mưu cầu hạnh phúc cho loài người”." },
            { id: 5, q: "Con đường cứu nước mà Hồ Chí Minh lựa chọn là gì?", a: ["Đi sang phương Đông", "Đi sang phương Tây", "Ở lại trong nước", "Tìm sự giúp đỡ từ Trung Quốc"], correctIndex: 1, info: "Người quyết tâm đi sang phương Tây (Pháp) để tìm hiểu nền văn minh, chính trị và cách mạng của các nước tư bản, từ đó tìm ra con đường cứu nước đúng đắn." },
            { id: 6, q: "Từ năm 1912-1917, Hồ Chí Minh làm việc tại đâu?", a: ["Anh", "Mỹ", "Pháp", "Đức"], correctIndex: 0, info: "Trong giai đoạn này, Người sống và làm việc ở Anh (London) và sau đó là Mỹ, trước khi trở lại Pháp." },
            { id: 7, q: "Hồ Chí Minh không tán thành con đường cứu nước của Phan Châu Trinh và Phan Bội Châu vì:", a: ["Hai ông không quan tâm đến truyền bá chữ quốc ngữ.", "Hai ông đều chủ trương đấu tranh bạo lực.", "Con đường của họ phụ thuộc vào thế lực bên ngoài.", "Hai ông không quan tâm đến tổ chức cách mạng ở nước ngoài."], correctIndex: 2, info: "Tuy khâm phục Phan Châu Trinh, Phan Bội Châu nhưng Người không tán thành con đường của họ: Phan Châu Trinh “xin giặc rủ lòng thương”, Phan Bội Châu “đuổi hổ cửa trước, rước beo cửa sau”. Vì thế Người quyết tâm tìm một con đường cứu nước mới." },
            { id: 8, q: "Đặc điểm nào KHÔNG thuộc phong cách nghệ thuật của thơ Hồ Chí Minh?", a: ["Ngôn ngữ cô đọng, giàu tính tượng trưng", "Phong vị cổ điển kết hợp hơi thở hiện đại", "Hình ảnh giản dị, gần gũi, giàu nhân văn", "Sử dụng hoàn toàn phong cách lãng mạn Tây phương"], correctIndex: 3, info: "Thơ Hồ Chí Minh mang đậm phong vị cổ điển của thơ Đường, đồng thời thấm đẫm tinh thần hiện đại, giản dị và nhân văn. Phong cách thơ của Người là sự kết hợp nhuần nhuyễn giữa cổ điển và hiện đại, không 'hoàn toàn' lãng mạn Tây phương." },
            { id: 9, q: "Điểm tương đồng về vai trò của Người trong Cách mạng tháng Tám năm 1945, kháng chiến chống Pháp (1945-1954) và kháng chiến chống Mỹ (1954-1975) là", a: ["lãnh đạo cách mạng Việt Nam thực hiện kháng chiến và kiến quốc.", "lãnh đạo cách mạng Việt Nam thực hiện nhiệm vụ xây dựng chế độ mới.", "lãnh đạo cuộc cách mạng giải phóng và bảo vệ tổ quốc.", "lãnh đạo cách mạng Việt Nam thực hiện nhiệm vụ thống nhất đất nước."], correctIndex: 0, info: "Vai trò của Người xuyên suốt là lãnh đạo toàn dân thực hiện đồng thời hai nhiệm vụ chiến lược: kháng chiến chống ngoại xâm và xây dựng đất nước." },
            { id: 10, q: "\"Người đi tìm hình của nước\" là tên một bài thơ của tác giả nào?", a: ["Tố Hữu", "Xuân Diệu", "Chế Lan Viên", "Nguyễn Đình Thi"], correctIndex: 2, info: "Đây là bài thơ nổi tiếng được Chế Lan Viên sáng tác, thể hiện hành trình tìm đường cứu nước đầy gian khổ và vĩ đại của Hồ Chủ Tịch." },
            { id: 11, q: "Hồ Chí Minh lấy bí danh 'Nguyễn Ái Quốc' khi nào?", a: ["1911", "1917", "1920", "1930"], correctIndex: 2, info: "Hồ Chí Minh sử dụng bí danh Nguyễn Ái Quốc trong những năm hoạt động trước Cách mạng tháng Tám, đặc biệt từ khoảng 1920 khi tham gia phong trào quốc tế và cách mạng." },
            { id: 12, q: "Điều nào sau đây là phẩm chất nổi bật của Hồ Chí Minh trong lãnh đạo?", a: ["Tính nhân văn và khiêm tốn", "Ham danh vọng", "Thiếu kiên nhẫn", "Không quan tâm đến nhân dân"], correctIndex: 0, info: "Hồ Chí Minh nổi bật với phẩm chất nhân văn, giản dị, gần gũi với nhân dân và khiêm tốn trong lãnh đạo." },

            /* --- BẮT ĐẦU: 8 câu mới do bạn cung cấp (đã chuẩn hóa và thêm giải thích) --- */
            { id: 13, q: "Ai là người hướng cho Nguyễn Tất Thành đến việc tìm con đường cứu nước thông qua tìm hiểu văn hóa, ngôn ngữ của kẻ thù xâm lược là Pháp?", a: ["Phan Bội Châu", "Phan Châu Trinh", "Nguyễn Sinh Sắc", "Hoàng Hoa Thám"], correctIndex: 2, info: "Quyết định ra đi tìm đường cứu nước của Nguyễn Tất Thành là kết quả của sự kết hợp giữa các điều kiện khách quan và những yếu tố chủ quan. Trong đó, sự giáo dục và định hướng của cụ Phó bảng Nguyễn Sinh Sắc đối với con trai đóng vai trò hết sức quan trọng: ngoài hun đúc quyết tâm và ý chí cứu nước, cụ còn gợi mở hướng đi tìm đường cứu nước — muốn đánh Pháp phải hiểu nước Pháp, muốn hiểu nước Pháp phải học tiếng Pháp." },
            { id: 14, q: "Chàng thanh niên trẻ Nguyễn Tất Thành nhận định con đường cứu nước của cụ Phan Bội Châu là “đưa hổ cửa trước, rước beo cửa sau” vì cụ Phan Bội Châu dựa vào cường quốc nào để mượn sức đánh Pháp?", a: ["Nhật Bản", "Trung Hoa", "Đức", "Mỹ"], correctIndex: 0, info: "Nguyễn Tất Thành cho rằng Phan Bội Châu hy vọng Nhật giúp ta đuổi Pháp, nên ví von đó là 'đưa hổ cửa trước, rước beo cửa sau' — ý chỉ nguy cơ bị lệ thuộc vào thế lực khác." },
            { id: 15, q: "Nguyễn Ái Quốc là một trong những nhà sáng lập ra Đảng Cộng sản của quốc gia Tây Âu nào vào năm 1920?", a: ["Anh", "Pháp", "Đức", "Tây Ban Nha"], correctIndex: 1, info: "Ngày 29-12-1920, tại Đại hội Tours của Đảng Xã hội Pháp, Nguyễn Ái Quốc bỏ phiếu ủng hộ gia nhập Quốc tế thứ III (Quốc tế Cộng sản). Sự kiện này đánh dấu mốc quan trọng trong hoạt động chính trị của Người tại Pháp." },
            { id: 16, q: "Nguyễn Ái Quốc đã viết vở kịch “Con rồng tre” để vạch trần bộ mặt bán nước hại dân của vua nhà Nguyễn nào?", a: ["Tự Đức", "Khải Định", "Bảo Đại", "Đồng Khánh"], correctIndex: 1, info: "Năm 1922, nhân dịp vua Khải Định tới Pháp tham dự một sự kiện, Nguyễn Ái Quốc viết vở kịch 'Con rồng tre' để tố cáo bộ mặt bán nước hại dân của một số vua quan tay sai, phản ánh thái độ phê phán chế độ phong kiến thân Pháp." },
            { id: 17, q: "Khi trở về Tổ quốc sau 30 năm bôn ba (1911-1941), Bác đã đặt chân lên địa phương nào đầu tiên?", a: ["Cao Bằng", "Hà Giang", "Lạng Sơn", "Lào Cai"], correctIndex: 0, info: "Sau 30 năm bôn ba tìm đường cứu nước, một trong những nơi Bác đến và hoạt động sớm là Cao Bằng, địa phương có ý nghĩa quan trọng trong những ngày đầu của kháng chiến." },
            { id: 18, q: "Nguyễn Tất Thành đã giảng dạy những ngôn ngữ nào tại trường Dục Thanh?", a: ["Chữ Hán, chữ Nôm và tiếng Pháp", "Chữ Hán, tiếng Pháp và tiếng Anh", "Chữ Quốc ngữ, chữ Hán và tiếng Pháp", "Chữ Quốc ngữ, tiếng Pháp và tiếng Anh"], correctIndex: 2, info: "Khi dạy ở trường Dục Thanh, Nguyễn Tất Thành phụ trách Quốc văn (chữ Quốc ngữ), Hán văn và khi cần đã dạy thay môn tiếng Pháp — do đó đáp án 'Chữ Quốc ngữ, chữ Hán và tiếng Pháp' là chính xác." },
            { id: 19, q: "Phong trào “Học tập và làm theo tư tưởng, đạo đức, phong cách Hồ Chí Minh” có ý nghĩa chính là:", a: ["Học lý thuyết chính trị thuần túy", "Áp dụng kỷ luật nghiêm ngặt", "Biến tấm gương của Bác thành hành động thiết thực trong đời sống", "Tạo phong trào thi đua hình thức"], correctIndex: 2, info: "Phong trào này nhấn mạnh việc học và thực hành những điều giản dị, thiết thực mà Bác dạy: làm việc, phục vụ nhân dân, đạo đức, lối sống giản dị và trách nhiệm xã hội." },
            { id: 20, q: "Quê hương của Hồ Chí Minh (Nguyễn Sinh Cung / Nguyễn Tất Thành) nằm ở tỉnh nào?", a: ["Hà Nội", "Nghệ An", "Thừa Thiên - Huế", "Quảng Nam"], correctIndex: 1, info: "Hồ Chí Minh sinh ở làng Kim Liên, xã Nam Đàn, tỉnh Nghệ An — đây là quê hương quê nhà của Người." }
            /* --- KẾT THÚC 8 câu mới --- */
        ];

        function generateQuestionSet() {
            // Lấy tất cả câu hỏi, trộn ngẫu nhiên
            const shuffledQuestions = shuffle([...QUIZ_DATA_RAW]);
            return shuffledQuestions;
        }

        // =================================================================
        // SOUND (Tone.js) - Nhạc nền SÔI ĐỘNG (KAHOOT-STYLE) VÀ FX MỚI
        // =================================================================

        // 1. CẤU HÌNH HIỆU ỨNG CHUNG (FX)
        const fxReverb = new Tone.Reverb({ decay: 1.5, wet: 0.3 }).toDestination(); 

        // Synth cho Correct/Finish (âm thanh tích tích, cao, sạch)
        const melodyFxSynth = new Tone.PolySynth(Tone.Synth, {
            oscillator: { type: "sine" }, // Sóng Sine cho âm thanh sạch hơn (tích tích)
            envelope: { attack: 0.005, release: 0.1 }
        }).connect(fxReverb);
        melodyFxSynth.volume.value = -8; 

        // Synth cho Wrong (âm thanh "ẹc ẹc" - Noise/Buzz)
        const errorFxSynth = new Tone.NoiseSynth({
            noise: { type: "white" }, // FIX: Đã đổi sang "white" noise để tương thích với Tone.js 14.8.49
            envelope: { attack: 0.005, decay: 0.2, sustain: 0, release: 0.2 }
        }).toDestination();
        errorFxSynth.volume.value = -10; 

        
        // 2. CẤU HÌNH NHẠC NỀN (BGM - Sôi động hơn)
        const bgmSynth = new Tone.PolySynth(Tone.Synth, {
            oscillator: { type: "triangle" }, 
            envelope: { attack: 0.05, decay: 0.1, sustain: 0.5, release: 0.2 } 
        });
        
        const delay = new Tone.PingPongDelay("8n", 0.2).toDestination(); 
        bgmSynth.chain(delay, Tone.Destination);
        bgmSynth.volume.value = -15; 

        // Các nốt nhạc được thiết kế lại cho cảm giác nhanh và sôi động hơn
        const bgmNotes = ["C4", "G3", "A3", "F3"]; 
        let bgmLoop = null;
        let isBgmPlaying = false;
        
        const BGM_PACE = "4n"; // Tốc độ nhịp 4 nốt

        function startBGM() {
            Tone.start();
            
            if (isBgmPlaying) return;

            isBgmPlaying = true;
            if (!bg*



